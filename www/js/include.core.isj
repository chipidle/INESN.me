/*!Bản quyền ©2018 I&E*/vichar="ÀÁẢÃẠÂẦẤẨẪẬĂẰẮẲẴẶàáảãạâầấẩẫậăằắẳẵặđĐÈÉẺẼẸÊỀẾỂỄỆèéẻẽẹêềếểễệÌÍỈĨỊìíỉĩịÒÓỎÕỌÔỒỐỔỖỘƠỜỚỞỠỢòóỏõọôồốổỗộơờớởỡợÙÚỦŨỤƯỪỨỬỮỰùúủũụưừứửữựỲÝỶỸỴỳýỷỹỵ";regex={số:"[0-9\r]",Số:"[0-9\r\.]",SỐ:"[0-9\r\.+\-/*]",Int:"[0-9\r\-]",en:"[A-Za-z0-9\-_\.\r]",mã:"[A-Za-z 0-9\-_\.\r]",vi:"[A-Za-z 0-9\-\._\(\)\/"+vichar+"\r]",tên:"[A-Za-z "+vichar+"\r]",url:"[A-Za-z0-9\.\/:\?\%\r]"};hợpLệ={tk:/^(?!.*[_\.]{2})[a-zA-Z0-9][a-zA-Z0-9_\.]*[a-zA-Z0-9]{1}$/,em:/^[\.A-z0-9_\+]+[@][A-z0-9_]+([.][A-z0-9_]+)+[A-z]{1,4}$/,đt:/^(09[0-9]{8})|(01(2|6|8|9)[0-9]{8})|(069[2-9][0-9]{4,5})|(080(4|31|511|8)[0-9]{4})|(0([2-8])[0-9]{1,2}[0-9]{1,3}[0-9]{5})$/};ngoạiTuyến=typeof localStorage!="undefined";iZip=new function(){var _k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_f=String.fromCharCode,_p=Object.prototype.hasOwnProperty,N=this.nén=function(e){if(e==null)return"";var t,n,r={},i={},s="",o="",u="",a=2,f=3,l=2,c="",h=0,p=0,d,v=_f;for(d=0;d<e.length;d+=1){s=e.charAt(d);if(!_p.call(r,s)){r[s]=f++;i[s]=true}o=u+s;if(_p.call(r,o)){u=o}else{if(_p.call(i,u)){if(u.charCodeAt(0)<256){for(t=0;t<l;t++){h=h<<1;if(p==15){p=0;c+=v(h);h=0}else{p++}}n=u.charCodeAt(0);for(t=0;t<8;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}else{n=1;for(t=0;t<l;t++){h=h<<1|n;if(p==15){p=0;c+=v(h);h=0}else{p++}n=0}n=u.charCodeAt(0);for(t=0;t<16;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}delete i[u]}else{n=r[u];for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}r[o]=f++;u=String(s)}}if(u!==""){if(_p.call(i,u)){if(u.charCodeAt(0)<256){for(t=0;t<l;t++){h=h<<1;if(p==15){p=0;c+=v(h);h=0}else{p++}}n=u.charCodeAt(0);for(t=0;t<8;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}else{n=1;for(t=0;t<l;t++){h=h<<1|n;if(p==15){p=0;c+=v(h);h=0}else{p++}n=0}n=u.charCodeAt(0);for(t=0;t<16;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}delete i[u]}else{n=r[u];for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}}n=2;for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}while(true){h=h<<1;if(p==15){c+=v(h);break}else p++}return c},B=this.bung=function(e){if(e==null)return"";if(e=="")return null;var t=[],n,r=4,i=4,s=3,o="",u="",a,f,l,c,h,p,d,v=_f,m={string:e,val:e.charCodeAt(0),_v:32768,index:1};for(a=0;a<3;a+=1){t[a]=a}l=0;h=Math.pow(2,2);p=1;while(p!=h){c=m.val&m._v;m._v>>=1;if(m._v==0){m._v=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}switch(n=l){case 0:l=0;h=Math.pow(2,8);p=1;while(p!=h){c=m.val&m._v;m._v>>=1;if(m._v==0){m._v=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}d=v(l);break;case 1:l=0;h=Math.pow(2,16);p=1;while(p!=h){c=m.val&m._v;m._v>>=1;if(m._v==0){m._v=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}d=v(l);break;case 2:return""}t[3]=d;f=u=d;while(true){if(m.index>m.string.length){return""}l=0;h=Math.pow(2,s);p=1;while(p!=h){c=m.val&m._v;m._v>>=1;if(m._v==0){m._v=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}switch(d=l){case 0:l=0;h=Math.pow(2,8);p=1;while(p!=h){c=m.val&m._v;m._v>>=1;if(m._v==0){m._v=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}t[i++]=v(l);d=i-1;r--;break;case 1:l=0;h=Math.pow(2,16);p=1;while(p!=h){c=m.val&m._v;m._v>>=1;if(m._v==0){m._v=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}t[i++]=v(l);d=i-1;r--;break;case 2:return u}if(r==0){r=Math.pow(2,s);s++}if(t[d]){o=t[d]}else{if(d===i){o=f+f.charAt(0)}else{return null}}u+=o;t[i++]=f+o.charAt(0);r--;f=o;if(r==0){r=Math.pow(2,s);s++}}};this.nénBase64=function(e){if(e==null)return"";var t="";var n,r,i,s,o,u,a;var f=0;e=N(e);while(f<e.length*2){if(f%2==0){n=e.charCodeAt(f/2)>>8;r=e.charCodeAt(f/2)&255;if(f/2+1<e.length)i=e.charCodeAt(f/2+1)>>8;else i=NaN}else{n=e.charCodeAt((f-1)/2)&255;if((f+1)/2<e.length){r=e.charCodeAt((f+1)/2)>>8;i=e.charCodeAt((f+1)/2)&255}else r=i=NaN}f+=3;s=n>>2;o=(n&3)<<4|r>>4;u=(r&15)<<2|i>>6;a=i&63;if(isNaN(r)){u=a=64}else if(isNaN(i)){a=64}t=t+_k.charAt(s)+_k.charAt(o)+_k.charAt(u)+_k.charAt(a)}return t};this.bungBase64=function(e){if(e==null)return"";var t="",n=0,r,i,s,o,u,a,f,l,c=0,h=_f;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(c<e.length){u=_k.indexOf(e.charAt(c++));a=_k.indexOf(e.charAt(c++));f=_k.indexOf(e.charAt(c++));l=_k.indexOf(e.charAt(c++));i=u<<2|a>>4;s=(a&15)<<4|f>>2;o=(f&3)<<6|l;if(n%2==0){r=i<<8;if(f!=64){t+=h(r|s)}if(l!=64){r=o<<8}}else{t=t+h(r|i);if(f!=64){r=s<<8}if(l!=64){t+=h(r|o)}}n+=3}return B(t)};this.nénUTF16=function(e){if(e==null)return"";var t="",n,r,i,s=0,o=_f;e=N(e);for(n=0;n<e.length;n++){r=e.charCodeAt(n);switch(s++){case 0:t+=o((r>>1)+32);i=(r&1)<<14;break;case 1:t+=o(i+(r>>2)+32);i=(r&3)<<13;break;case 2:t+=o(i+(r>>3)+32);i=(r&7)<<12;break;case 3:t+=o(i+(r>>4)+32);i=(r&15)<<11;break;case 4:t+=o(i+(r>>5)+32);i=(r&31)<<10;break;case 5:t+=o(i+(r>>6)+32);i=(r&63)<<9;break;case 6:t+=o(i+(r>>7)+32);i=(r&127)<<8;break;case 7:t+=o(i+(r>>8)+32);i=(r&255)<<7;break;case 8:t+=o(i+(r>>9)+32);i=(r&511)<<6;break;case 9:t+=o(i+(r>>10)+32);i=(r&1023)<<5;break;case 10:t+=o(i+(r>>11)+32);i=(r&2047)<<4;break;case 11:t+=o(i+(r>>12)+32);i=(r&4095)<<3;break;case 12:t+=o(i+(r>>13)+32);i=(r&8191)<<2;break;case 13:t+=o(i+(r>>14)+32);i=(r&16383)<<1;break;case 14:t+=o(i+(r>>15)+32,(r&32767)+32);s=0;break}}return t+o(i+32)};this.bungUTF16=function(e){if(e==null)return"";var t="",n,r,i=0,s=0,o=_f;while(s<e.length){r=e.charCodeAt(s)-32;switch(i++){case 0:n=r<<1;break;case 1:t+=o(n|r>>14);n=(r&16383)<<2;break;case 2:t+=o(n|r>>13);n=(r&8191)<<3;break;case 3:t+=o(n|r>>12);n=(r&4095)<<4;break;case 4:t+=o(n|r>>11);n=(r&2047)<<5;break;case 5:t+=o(n|r>>10);n=(r&1023)<<6;break;case 6:t+=o(n|r>>9);n=(r&511)<<7;break;case 7:t+=o(n|r>>8);n=(r&255)<<8;break;case 8:t+=o(n|r>>7);n=(r&127)<<9;break;case 9:t+=o(n|r>>6);n=(r&63)<<10;break;case 10:t+=o(n|r>>5);n=(r&31)<<11;break;case 11:t+=o(n|r>>4);n=(r&15)<<12;break;case 12:t+=o(n|r>>3);n=(r&7)<<13;break;case 13:t+=o(n|r>>2);n=(r&3)<<14;break;case 14:t+=o(n|r>>1);n=(r&1)<<15;break;case 15:t+=o(n|r);i=0;break}s++}return B(t)}};function size(s,b,i,c){for(b=i=0;c=s.charCodeAt(i++);b+=c>>11?3:c>>7?2:1);return b};function màu(){return "#"+Math.floor((1+Math.random())*4096).toString(16).substr(1)};function tảiXong(o){if(config("tảiXong"))return;o=$.extend({d:234,c:rf},o||{});o.c();init();var p=$("#tảiTrước"),ả2=$.đệm("biểuTượng2"),s2=$.đệm("slogan2");if(ả2||s2){ả2=dữLiệu.ảnh(ả2);$("<img>",{src:ả2,class:"o0 pf b1 r1 z-1 pen"}).appendTo("body").on("load",function(){p.find("#mới").css({backgroundImage:"url('"+ả2+"')"}).iClass("+ad1,+fadeIn");p.find("#chữ").sửaLớp("cf,fs18,fwb,động,pa0i,pa,l50,ttx,w1v,lh13").empty().append($("<div>",{class:"mt5",text:s2}).iClass("+fadeInLeftBig,+ad1"))});o.d+=2345}else{p.find("#hiện").iClass("+aj1")};chờ(function(){p.ẩnXóa(456,function(){$("#tảiTrướcCSS").remove()}).find("#chữ").iClass("+fadeOutRightBig,+ad1")},o.d);config("tảiXong",1)};function tảiTrước(cấuHình){$(function(){if($("#tảiTrước").length)return;var c=typeof CSS=="undefined"||!CSS.supports,b;$("body").append($("<div>",{id:"tảiTrước",unselectable:"on"}).css({opacity:cấuHình.koChe?0:1,transition:"background .2s",cursor:"wait",position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:999,userSelect:"none"}).append(b=$("<div>",{id:"bo"}).css({position:"fixed",top:"50%",left:"50%",transform:"translate(-50%,-50%)",textAlign:"center"}).append($("<div>",{id:"hiện"}).append($("<div>",{id:"mới"}).css({position:"relative",width:128,height:128,overflow:"hidden",background:"center/contain no-repeat"}).append($("<div>",{id:"đang",text:"0%"}).css({position:"absolute",width:"100%",height:"100%",zIndex:10,font:"2em/128px Impact,monospace",textShadow:"0 0 3px #fff",transition:"height .5s",top:0,left:0})),$("<div>",{id:"chữ"}).css({color:"#fff",position:"absolute",left:"50%",transform:"translateX(-50%)",top:"100%"}))),$("<div>",{id:"thôngSố"}).css({position:"fixed",bottom:15,bottom:15,bottom:15,left:15,right:15,textAlign:"right",color:"#fff",opacity:.5,fontSize:"11px"})).on("dblclick taphold",function(){localStorage.clear();location.reload(true)}));if(c||!CSS.supports("transform","translate(-50%,-50%)")){b.css({marginTop:b.height()/2,marginLeft:b.width()/2})};if(c)alert("!!");$("#ẩn").append($("style",{id:"cũ"}).text([ [".hmnv","min-height:100vh","min-height:"+$(window).height()+"px"]].map(function(á){if(c||!CSS.supports(á[1])){return á[0]+"{"+á[2]+"}"}}).join("")));var f=["js","css","img"],f2=$.merge([],f),K={},URL=cấuHình.appKey||location.origin.indexOf("http")<0?cấuHình.url:"";tải=new function(){var F=this.xong=function(f){$("[src="+f+"]").remove()};var E=this.lỗi=function(f,x){if(x!=1){console.log("LỖI:"+f,x);if(typeof tảiLại!="undefined")clearTimeout(tảiLại);tảiLại=setTimeout(function(){location.reload()},12345)}};this.chạy=function(dữLiệu,xửLý){if(!dữLiệu)return alert("LỖI\r\nKhông có dữ liệu");var x="tải",N={},hoànThành=0;$("#thôngSố").html("Build <b class='sab cy'>"+dữLiệu.build+"</b> updated on "+(new Date(dữLiệu.unix*1000))+"");$.each(f,function(ị,V){K[V]={};var W=$("#tải_"+V).on(x+100,function(){var i=$.inArray(V,f2);if(i>=0)f2.splice(i,1);if(!f2.length)chờ(xửLý,567,"bắtĐầu")}).on(x,function(e,i){X+=i;var w=Math.ceil(X*100/T),p=0;W.data("rộng",w).trigger(x+w);$.map(f,function(y){p+=$("#tải_"+y).data("rộng")||0});p=Math.floor(p/f.length);$("#đang").text(p+"%").height((100-p)+"%");if(p==100&&!config("đệm.intro")){config("đệm.intro",1);$.đệm("phiênBản",dữLiệu.build,1);if(là("W")){theoDõi=new giámSát();var r=theoDõi.chạy=function(){theoDõi.begin();theoDõi.end();i=requestAnimationFrame(r)};var i=requestAnimationFrame(r);theoDõi.hủy=function(){cancelAnimationFrame(i)}}}}),Đ=dữLiệu[V],B=Đ.bước,T=B.slice(-1)[0],X=N[V]=0;var D=function(c){var d=Đ.dữLiệu[N[V]++];if(d){$.each(d,function(j,v){var t=0,m=3,R=function(v,l){$.ajaxSetup({cache:l});var a=v[0],b=v[1],s=[ "/js/"+a+".isj","/css/"+a+".isc","/img/"+a+".isip"][ị],u=a.replace(/\./g,"_"),$r=$("<div>",{class:a,src:u,text:""}).appendTo("#chữ"),r=function(n){if(ị<2&&l&&size(n)!=b)return setTimeout(function(){R(v,false)},234);if(location.protocol=="file:"){n=n.replace(/('|")\/(img|js|css|font|txt|json|mp3|upload|url)\//gi,function(a,á,à){return á+URL+"/"+à+'/'})};var m=iZip.nén(n);if(ị==0){try{$("<script>",{id:u,text:n}).appendTo("#ẩn");if(ạ)localStorage.setItem(s,m);$r.remove()}catch(e){$r.text(u+" ERROR:"+e.message);console.log(u,e.message);setTimeout(function(){$r.remove();R(v,false)},1234);if(ạ)if(e.message.match(/error/i)&&localStorage.getItem(s)==m)localStorage.removeItem(s)}}else{$("#ẩn").append(ị==1?$("<style>",{id:u,type:"text/css",charset:"utf-8",text:n}):$("<img>",{id:u,src:URL+s}));$r.remove();if(ạ)localStorage.setItem(s,m)};W.trigger(x,b);K[V][a]=b;if(ị>0)F(u)},ạ=ngoạiTuyến;if(ạ){var n=localStorage.getItem(s);if(n){n=iZip.bung(n)}};if(n){r(n)}else{$.get(URL+s,function(n){r(n)}).fail(function(e){if(++t>m){E(u)}else{E(u,1);setTimeout(function(){R(v,l)},567)}})};if(l)$.ajaxSetup({cache:false})};R(v,Đ.lưu)})}else{if(typeof c=="function")c()}};$.each(B,function(i,v){W.on(x+Math.ceil(v*100/T),D)});D()})};var U=this.cậpNhật=function(){chờ(function(){$.ajaxSetup({cache:false});$.getJSON(cấuHình.dữLiệu,function(d){if(empty(d)||Js(d)==Js(tải.dữLiệu))return;tải.dữLiệu=d;var ạ=ngoạiTuyến;if(ạ)localStorage.setItem("dữLiệu",iZip.nén(JSON.stringify(d)));$.each(d,function(i,j){if(j.dữLiệu)$.each(j.dữLiệu,function(k,h){$.each(h,function(m,o){var R=function(v,l,c){$.ajaxSetup({cache:l});var a=v[0],b=v[1],r="./",s={js:"/js/"+a+".isj",css:"/css/"+a+".isc",img:"/img/"+a+".isip"}[i],u=a.replace(/\./g,"_"),ủ;$.get(URL+s,function(n){if(i!="img"&&l&&size(n)!=b)return chờ(function(){R(v,false,c)},234);if(location.protocol=="file:"){n=n.replace(/('|")\/(img|js|css|font|txt|json|mp3|upload|url)\//gi,function(a,á,à){return á+URL+"/"+à+'/'})};var ũ=$("#ẩn "+{js:"script",css:"style",img:"img"}[i]+"#"+u),t=(new Date).getTime();if(i=="js"){try{eval(n);if(ạ)localStorage.setItem(s,iZip.nén(n))}catch(e){console.log(u,e);ủ=1;if(ạ){if(localStorage.getItem(s)==iZip.nén(n))localStorage.removeItem(s)}}}else{if(ạ)localStorage.setItem(s,iZip.nén(n));(i=="css"?$("<style>",{id:u,type:"text/css",charset:"utf-8",text:n}):$("<img>",{id:u,src:URL+s+"?"+t}))[ũ.length?"insertBefore":"appendTo"](ũ.length?ũ:"#ẩn")};ũ.remove();K[i][a]=b;if(i=="img")$("#ẩn style:contains("+a+".isip)").text(function(á,b){return b.replace(a+".isip",a+".isip?"+t,"g")});(c||rf)();if(!ủ){log("UPDATED",s,n.length);chờ(cậpNhật.xong,1234,"cậpNhậtXong");if(s.match(/(function|include)\.main\.(js|isj)/gi))chờ(cậpNhật.cầnTảiLại,1234,"tảiLạiCậpNhật")}else{chờ("hủy","tảiLạiCậpNhật")}})};if(K[i][o[0]]!=o[1])R(o,false)});$("#ẩn").find("script,img").remove()})})});U()},là("W")?5678:12345,"cậpNhật.mãNguồn")}};if(ngoạiTuyến){var ề=localStorage.getItem("màuNền"),ể=localStorage.getItem("biểuTượng");if(ề)cấuHình.màuNền=ề;if(ể)cấuHình.biểuTượng=ể};$("#tảiTrước,#đang").css({background:cấuHình.màuNền});$("#mới").css({backgroundImage:"url('"+cấuHình.biểuTượng+"')"}).append($.map(f,function(v,i){var ă=-6*(i+1),â=màu();return $("<div>",{id:"tải_"+v,màu:â}).hide()})).on("dblclick",function(){localStorage.clear();location.reload()});if(cấuHình.ine)$("#đang").css({color:"transparent",textShadow:"none"});var ạ=ngoạiTuyến,t=new Date().getTime(),r=function(d){tải.chạy(d,function(){if(!$.đệm("appKey"))$.đệm("appKey",cấuHình.appKey);var B=trìnhDuyệt(),b=B.browser;config({ngônNgữ:B.language,trìnhDuyệt:b,chênh:cấuHình.chênhGiờ,timezone:cấuHình.múiGiờ,html5:typeof document.createElement("canvas").getContext==="function"});$.đệm("phạmVi",cấuHình.appID);$("html").sửaLớp(b+(diĐộng()?",diĐộng":""));var ê=$.đệm("include_extra");if(ê)$("<style>",{id:"include_extra"}).appendTo("#ẩn").iStyle(jS(ê));chờ(tải.cậpNhật,12345,"cậpNhật.mãNguồn");try{(cấuHình.xong||khởiTạo)()}catch(e){}})};$.ajaxSetup({cache:false});if(ạ){var d=localStorage.getItem("dữLiệu");if(d){d=$.parseJSON(iZip.bung(d))}};if(d){r(tải.dữLiệu=d,tải.cậpNhật)}else{$.getJSON(cấuHình.dữLiệu,function(d){if(d.build)tải.dữLiệu=d;try{if(ạ)localStorage.setItem("dữLiệu",iZip.nén(JSON.stringify(d)))}catch(e){};setTimeout(function(){r(d)},!$("#inesn").length?1:123)}).fail(function(e){var s=e.status;alert("ERROR "+(s?s+"\r\n"+({400:"Empty data",403:"Access denied",404:"Data not found"}[s]||s):"Unknown"));if(cấuHình.appKey)navigator.app.exitApp()})};if(cấuHình.youtube){$.ajaxSetup({cache:true});$.getScript("https://www.youtube.com/iframe_api",function(){console.log("youtube api ok")})};if(cấuHình.appKey){navigator.splashscreen.hide();tảiLỗi=function(e){cấuHình.ngoạiTuyến=e.type=="offline"};document.addEventListener("offline",tảiLỗi,false);document.addEventListener("online",tảiLỗi,false);window.open=cordova.InAppBrowser.open}})}